<mat-form-field class="main__place-filter" appearance="standard">
  <mat-label class="main__place-filter_label">Filter places</mat-label>
  <input
    class="main__place-filter_input"
    matInput
    (keyup)="applyFilter($event)"
    placeholder="any info about a place"
    #input
  />
</mat-form-field>
<div class="main__place-list-wrapper" *ngIf="dataService.isData">
  <table
    class="main__place-list mat-elevation-z8"
    mat-table
    [dataSource]="dataSource"
    multiTemplateDataRows
    matSort
    (matSortChange)="sortData($event)"
  >
    <!-- Name Column -->
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef mat-sort-header="name">
        {{ "name" | titlecase }}
      </th>
      <td mat-cell *matCellDef="let place">
        {{ place.placeName }}
      </td>
    </ng-container>

    <!-- Country Column -->
    <ng-container matColumnDef="country">
      <th mat-header-cell *matHeaderCellDef mat-sort-header="country">
        {{ "country" | titlecase }}
      </th>
      <td mat-cell *matCellDef="let place">
        {{ place.placeLocation }}
      </td>
    </ng-container>

    <!-- Date Column -->
    <ng-container matColumnDef="date">
      <th mat-header-cell *matHeaderCellDef mat-sort-header="date">
        {{ "date" | titlecase }}
      </th>
      <td mat-cell *matCellDef="let place">
        {{ place.placeRegisterDate | date: "yyyy-MM-dd" }}
      </td>
    </ng-container>

    <ng-container matColumnDef="expandedDetail">
      <td
        mat-cell
        *matCellDef="let place"
        [attr.colspan]="displayedColumns.length"
      >
        <div
          class="place-list__element-detail"
          [@detailExpand]="place == expandedElement ? 'expanded' : 'collapsed'"
        >
          <div class="place-list__img-wrapper">
            <img
              class="place-list__img"
              src="{{ place.placeImg }}"
              alt="place image"
            />
          </div>
          <div class="place-list__description">
            {{ place.placeDescription }}
          </div>
        </div>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr
      class="place-list__item"
      mat-row
      *matRowDef="let place; columns: displayedColumns"
      [class.example-expanded-row]="expandedElement === place"
      (click)="expandedElement = expandedElement === place ? null : place"
    ></tr>
    <tr
      mat-row
      *matRowDef="let place; columns: ['expandedDetail']"
      class="place-list__detail-row"
    ></tr>

    <!-- Row shown when there is no matching data. -->
    <tr class="mat-row" *matNoDataRow>
      <td class="mat-cell" colspan="4">
        No data matching the filter "{{ input.value }}"
      </td>
    </tr>
  </table>

  <mat-paginator
    [pageSizeOptions]="[5, 10, 20]"
    showFirstLastButtons
    aria-label="Select page of places"
  >
  </mat-paginator>
</div>
